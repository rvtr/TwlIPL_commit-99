<html>
<head>
<title>NITRO-System NITRO-Composer 更新履歴</title>
<meta http-equiv="Content-Type" content="text/html">
<meta http-equiv="content-style-type" content="text/css" />
<style type="text/css">
<!--
    
H1
{
    font-weight         : bold;
    font-size           : 250%;
    text-align          : left;
    color               : #46f;
    margin              : 0em 0em 0.5em 0em;
}

H2
{
    font-weight         : bold;
    font-size           : 150%;
    text-align          : left;
    margin              : 2em 0em 0.5em 0em;
    padding-top         : 8pt;
    border-top-style    : double;
    border-top-width    : 3px;
}

H3
{
    font-weight         : bold;
    font-size           : 120%;
    margin              : 1em 0em 0.5em 0em;
    padding-top         : 8pt;
    border-top-style    : solid;
    border-top-width    : 1px;
}

H4
{
    font-weight         : normal;
    font-size           : 100%;
    margin              : 0em 0em 0em 0.5em;
}

DIV.date
{
    font-size           : normal;
    text-align          : right;
    margin              : 0pt 0pt 12pt 0pt;
}

DIV.licence
{
    margin: 0em;
    border-style : solid;
    border-width : 1px;
}

P
{
    font-size           : normal;
    margin              : 0em 1em 0.5em 1em;
    line-height         : 150%;
}

PRE
{
    font-size           : normal;
    margin              : 0em 0em 1em 2em;
    line-height         : 120%;
}

DT
{
    margin              : 1em 0em 0em 1em;
}
DD
{
    margin-left         : 3em;
}
UL
{
    margin-top         : 0em;
}

-->
</style>
</head>
<body>

<h1>NITRO-System NITRO-Composer 更新履歴</h1>

<h2>■ インデックス</h2>

<h3><a href="#version_20080408">■ 2008年04月08日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_76-S01">ノート 76-S01:  (マニュアル) 改訂履歴の書式変更とページヘッダの修正</a></li>
</ul>
<h3><a href="#version_20071126">■ 2007年11月26日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_71-S01">ノート 71-S01:  (ライブラリ) サウンドアーカイブのロードブロックサイズ設定追加</a></li>
<li><a href="#note_71-S02">ノート 71-S02:  (ライブラリ) 関数引数のconst化</a></li>
<li><a href="#note_71-S03">ノート 71-S03:  (コンバータ/SoundPlayer) MIDI RPN対応</a></li>
<li><a href="#note_71-S04">ノート 71-S04:  (コンバータ/ライブラリ) エンベロープに関するシーケンスコマンド無効化</a></li>
<li><a href="#note_71-S05">ノート 71-S05:  (コンバータ) ADPCMエンコード処理改良</a></li>
</ul>
<h4>不具合修正</h4>
<ul style="list-style-type:none;">
<li><a href="#note_71-S06">ノート 71-S06:  (ライブラリ) ストリームの再生開始オフセットに関する不具合修正</a></li>
<li><a href="#note_71-S07">ノート 71-S07:  (コンバータ) サウンドアーカイブ内データのアライメントに関する不具合修正</a></li>
<li><a href="#note_71-S08">ノート 71-S08:  (コンバータ) サウンドマップファイルのデータサイズに関する不具合修正</a></li>
<li><a href="#note_71-S09">ノート 71-S09:  (コンバータ) AIFFの読み取り処理に関する不具合修正</a></li>
</ul>
<h3><a href="#version_20070314">■ 2007年03月14日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_64-S01">ノート 64-S01:  (SoundPlayer) SoundPlayerに出力エフェクト変更機能追加</a></li>
<li><a href="#note_64-S02">ノート 64-S02:  (SoundPlayer) SoundPlayerにストリームの処理負荷表示追加</a></li>
<li><a href="#note_64-S03">ノート 64-S03:  (SoundPlayer) SoundPlayerの複数サウンド同時再生機能追加</a></li>
<li><a href="#note_64-S04">ノート 64-S04:  (コンバータ)サウンドアーカイブのアライメント指定機能追加</a></li>
<li><a href="#note_64-S05">ノート 64-S05:  (コンバータ) サウンドアーカイブのコンバートファイルタイプ指定機能追加</a></li>
<li><a href="#note_64-S06">ノート 64-S06:  (ライブラリ) サウンドアーカイブストリーム関連の関数追加</a></li>
</ul>
<h4>不具合修正</h4>
<ul style="list-style-type:none;">
<li><a href="#note_64-S07">ノート 64-S07:  (コンバータ) コマンドライン引数オーバーによるコンバートエラーが発生するバグ修正</a></li>
</ul>
<h3><a href="#version_20060529">■ 2006年05月29日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_59-S01">ノート 59-S01:  (コンバータ/ライブラリ) シーケンスコマンドmuteの追加</a></li>
<li><a href="#note_59-S02">ノート 59-S02:  (コンバータ) サウンドアーカイブ定義ファイルで、ラベルの後方参照機能</a></li>
<li><a href="#note_59-S03">ノート 59-S03:  (コンバータ) SMFテキストコマンド埋め込みのラベル名展開機能拡張</a></li>
<li><a href="#note_59-S04">ノート 59-S04:  (ライブラリ) NNS_SndPlayerSetTrackMuteEx関数の追加</a></li>
<li><a href="#note_59-S05">ノート 59-S05:  (ライブラリ) NNS_SndCaptureDestroyThread関数の追加</a></li>
</ul>
<h4>不具合修正</h4>
<ul style="list-style-type:none;">
<li><a href="#note_59-S06">ノート 59-S06:  (コンバータ) SMFフォーマット1のコンバート時に最後のwaitコマンドが欠けるバグ修正</a></li>
<li><a href="#note_59-S07">ノート 59-S07:  (コンバータ) 空白文字を含んだパスで、コンバートが正しく処理されないバグ修正</a></li>
<li><a href="#note_59-S08">ノート 59-S08:  (コンバータ) グループ番号の欠番を作ると、サウンドマップファイルのレイアウトが崩れるバグ修正</a></li>
</ul>
<h3><a href="#version_20050901">■ 2005年09月01日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_50-S01">ノート 50-S01:  (ライブラリ) メモリ上のストリームデータ再生</a></li>
<li><a href="#note_50-S02">ノート 50-S02:  (コンバータ) サウンドアーカイバsndarcの出力ファイル名指定オプション追加</a></li>
<li><a href="#note_50-S03">ノート 50-S03:  (コンバータ) サウンドアーカイバsndarcの前処理ファイル指定オプション追加</a></li>
<li><a href="#note_50-S04">ノート 50-S04:  (ライブラリ) NNS_SndArcInitWithResult関数の追加</a></li>
<li><a href="#note_50-S05">ノート 50-S05:  (ライブラリ) キャプチャーの状態取得関数の追加</a></li>
</ul>
<h4>不具合修正</h4>
<ul style="list-style-type:none;">
<li><a href="#note_50-S06">ノート 50-S06:  (ライブラリ) NNS_SndUpdateDriverInfo関数が頻繁に失敗するバグ修正</a></li>
<li><a href="#note_50-S07">ノート 50-S07:  (コンバータ) sndarc及びbankconvが、ファイルパスを誤認識するバグ修正</a></li>
</ul>
<h3><a href="#version_20050606">■ 2005年06月06日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_45-S01">ノート 45-S01:  (コンバータ/ライブラリ) ノートオフを無視するインスト設定の追加</a></li>
<li><a href="#note_45-S02">ノート 45-S02:  (コンバータ) バンク定義ファイルのオリジナルキーの数値指定</a></li>
<li><a href="#note_45-S03">ノート 45-S03:  (ドキュメント) サウンドドライバ(SND)の関数リファレンス削除</a></li>
<li><a href="#note_45-S04">ノート 45-S04:  (ライブラリ) ストリームプリペア用のスレッド作成関数追加</a></li>
</ul>
<h4>不具合修正</h4>
<ul style="list-style-type:none;">
<li><a href="#note_45-S05">ノート 45-S05:  (ライブラリ) プチノイズが発生することがある問題対処</a></li>
<li><a href="#note_45-S06">ノート 45-S06:  (SoundPlayer) SoundPlayerリアルタイムMIDIポルタメント発音バグ修正</a></li>
<li><a href="#note_45-S07">ノート 45-S07:  (コンバータ) bankconvドライブレターの大文字、小文字の判別ミス修正</a></li>
</ul>
<h3><a href="#version_20050328">■ 2005年03月28日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_43-S01">ノート 43-S01:  (ライブラリ) プレイヤーヒープへの波形データ個別ロード機能追加</a></li>
<li><a href="#note_43-S02">ノート 43-S02:  (ライブラリ) シーケンスアーカイブ再生時のプレイヤーヒープ利用機能追加</a></li>
<li><a href="#note_43-S03">ノート 43-S03:  (コンバータ) サウンドマップファイル(*.smap)フォーマット変更</a></li>
<li><a href="#note_43-S04">ノート 43-S04:  (コンバータ) テキストファイルの数値表記拡張</a></li>
<li><a href="#note_43-S05">ノート 43-S05:  (コンバータ) NULLタイプインスト追加</a></li>
<li><a href="#note_43-S06">ノート 43-S06:  (ライブラリ) プレイヤー毎のボリューム設定関数追加</a></li>
<li><a href="#note_43-S07">ノート 43-S07:  (ライブラリ) トラックパンレンジ設定関数追加</a></li>
<li><a href="#note_43-S08">ノート 43-S08:  (ライブラリ) ストリームデータの時間長取得関数追加</a></li>
<li><a href="#note_43-S09">ノート 43-S09:  (ライブラリ) サウンドドライバ情報取得関数追加</a></li>
<li><a href="#note_43-S10">ノート 43-S10:  (ライブラリ) SND_FlushCommand関数のフラグSND_COMMAND_IMMEDIATE追加</a></li>
<li><a href="#note_43-S11">ノート 43-S11:  (ライブラリ) SNDInstTypeにSND_INST_NULL追加</a></li>
</ul>
<h4>不具合修正</h4>
<ul style="list-style-type:none;">
<li><a href="#note_43-S12">ノート 43-S12:  (ライブラリ) ポルタメントコマンドで発音中のチャンネルがリリースされてしまうバグ修正</a></li>
<li><a href="#note_43-S13">ノート 43-S13:  (SoundPlayer) SoundPlayerで手動ロードモード時、データロードが選択できないバグ修正</a></li>
<li><a href="#note_43-S14">ノート 43-S14:  (コンバータ) smfconvでトラックの最後に不要なwaitが入るバグ修正</a></li>
<li><a href="#note_43-S15">ノート 43-S15:  (コンバータ) smfconvで不正なwait時間を出力するバグ修正</a></li>
<li><a href="#note_43-S16">ノート 43-S16:  (コンバータ) bankconvで間違ってエラーが発生するバグ修正</a></li>
</ul>
<h3><a href="#version_20050131">■ 2005年01月31日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_39-S01">ノート 39-S01:  (コンバータ/ライブラリ) 波形データの個別ロード機能追加</a></li>
<li><a href="#note_39-S02">ノート 39-S02:  (コンバータ/ライブラリ) シーケンスの使用チャンネル制限機能追加</a></li>
<li><a href="#note_39-S03">ノート 39-S03:  (コンバータ) UNC形式のパス表記対応</a></li>
<li><a href="#note_39-S04">ノート 39-S04:  (コンバータ) #include&lt;ファイル名&gt;形式の構文追加</a></li>
<li><a href="#note_39-S05">ノート 39-S05:  (コンバータ/ライブラリ) シーケンスコマンドprintvarの追加</a></li>
<li><a href="#note_39-S06">ノート 39-S06:  (コンバータ) キー表記における大文字小文字の区別の廃止</a></li>
<li><a href="#note_39-S07">ノート 39-S07:  (SoundPlayer) チャンネルメーター改良</a></li>
<li><a href="#note_39-S08">ノート 39-S08:  (ライブラリ) NNS_SndCaptureSetPostOutputEffectCallback関数追加</a></li>
<li><a href="#note_39-S09">ノート 39-S09:  (ライブラリ) シーケンスの使用チャンネル制限機能追加</a></li>
<li><a href="#note_39-S10">ノート 39-S10:  (ライブラリ) micThroughデモ追加</a></li>
</ul>
<h4>不具合修正</h4>
<ul style="list-style-type:none;">
<li><a href="#note_39-S11">ノート 39-S11:  (コンバータ) SMFコンバータバグ修正</a></li>
<li><a href="#note_39-S12">ノート 39-S12:  (ライブラリ) NNS_SndArcStrmStopAllで確保済みチャンネルを解放してしまう問題</a></li>
</ul>
<h3><a href="#version_20041206">■ 2004年12月06日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_34-S01">ノート 34-S01:  (コンバータ/ライブラリ) モノラルストリームの２チャンネル再生</a></li>
<li><a href="#note_34-S02">ノート 34-S02:  (ライブラリ) NNS_SndArcStrmStartEx2関数の追加</a></li>
<li><a href="#note_34-S03">ノート 34-S03:  (ライブラリ) サウンドドライバのスレッドセーフ化</a></li>
<li><a href="#note_34-S04">ノート 34-S04:  (ライブラリ) 再生中のストリームプレイヤーに対するNNS_SndArcStrmAllocChannel呼び出し</a></li>
<li><a href="#note_34-S05">ノート 34-S05:  (ドキュメント) 出力エフェクトに関する注意書き追加</a></li>
</ul>
<h4>不具合修正</h4>
<ul style="list-style-type:none;">
<li><a href="#note_34-S06">ノート 34-S06:  (ライブラリ) タイオン後のノートが発音されないバグ</a></li>
</ul>
<h3><a href="#version_20041110">■ 2004年11月10日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_31-S01">ノート 31-S01:  (ライブラリ) リソース管理関数追加</a></li>
</ul>
<h4>不具合修正</h4>
<ul style="list-style-type:none;">
<li><a href="#note_31-S02">ノート 31-S02:  (ライブラリ) ループ無しストリーム再生サンプル</a></li>
<li><a href="#note_31-S03">ノート 31-S03:  (ライブラリ) ストリーム再生中、カレントサウンドアーカイブ切り替えバグ</a></li>
<li><a href="#note_31-S04">ノート 31-S04:  (ライブラリ) NNS_SndArcStrmSetChannelVolume関数バグ</a></li>
<li><a href="#note_31-S05">ノート 31-S05:  (コンバータ) シーケンスコンバータseqconvコマンド解析バグ</a></li>
</ul>
<h3><a href="#version_20041012">■ 2004年10月12日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_26-S01">ノート 26-S01:  (SoundPlayer) IS-AGB-MIDI対応</a></li>
<li><a href="#note_26-S02">ノート 26-S02:  (ライブラリ) 出力エフェクト機能追加</a></li>
<li><a href="#note_26-S03">ノート 26-S03:  (ライブラリ) スリープ処理の自動化</a></li>
<li><a href="#note_26-S04">ノート 26-S04:  (ライブラリ) ストリームプレイヤー指定関数追加</a></li>
<li><a href="#note_26-S05">ノート 26-S05:  (ライブラリ) モノラルフラグ設定関数追加</a></li>
<li><a href="#note_26-S06">ノート 26-S06:  (コンバータ) プレイヤーのラベル指定</a></li>
<li><a href="#note_26-S07">ノート 26-S07:  (ドキュメント) スリープモード移行時の注意書き追加</a></li>
<li><a href="#note_26-S08">ノート 26-S08:  (ドキュメント) ストリームを途切れさせないための説明追加</a></li>
<li><a href="#note_26-S09">ノート 26-S09:  (ドキュメント) 出力エフェクトの紹介追加</a></li>
</ul>
<h4>不具合修正</h4>
<ul style="list-style-type:none;">
<li><a href="#note_26-S10">ノート 26-S10:  (ライブラリ) シーケンスフェードアウト時無限ループバグ</a></li>
<li><a href="#note_26-S11">ノート 26-S11:  (コンバータ) @PATHコマンド解釈間違い</a></li>
<li><a href="#note_26-S12">ノート 26-S12:  (ライブラリ) シーケンスフェードアウト時のリリースチャンネル処理</a></li>
<li><a href="#note_26-S13">ノート 26-S13:  (コンバータ) ファイル名の大文字小文字の区別</a></li>
<li><a href="#note_26-S14">ノート 26-S14:  (コンバータ) waveconvループスタート位置チェック</a></li>
</ul>
<h3><a href="#version_20040916">■ 2004年09月16日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_21-S01">ノート 21-S01:  (コンバータ/ライブラリ) シーケンスコマンドloop_startの拡張</a></li>
<li><a href="#note_21-S02">ノート 21-S02:  (コンバータ/ライブラリ) SMFトラック単位のループ指定</a></li>
<li><a href="#note_21-S03">ノート 21-S03:  (コンバータ) SMFループ指定</a></li>
<li><a href="#note_21-S04">ノート 21-S04:  (コンバータ) *.sbdlファイルの拡張と呼称変更</a></li>
<li><a href="#note_21-S05">ノート 21-S05:  (ドキュメント) *.sadlファイルの呼称統一</a></li>
<li><a href="#note_21-S06">ノート 21-S06:  (ライブラリ) NNS_SndCaptureCreateThread関数追加</a></li>
<li><a href="#note_21-S07">ノート 21-S07:  (ライブラリ) NNS_SndCaptureStartSampling関数追加</a></li>
<li><a href="#note_21-S08">ノート 21-S08:  (ライブラリ) NNS_SndArcGetSeqArcSeqCount関数追加</a></li>
</ul>
<h4>不具合修正</h4>
<ul style="list-style-type:none;">
<li><a href="#note_21-S09">ノート 21-S09:  (ライブラリ) NNS_SndPlayerMoveVolume関数</a></li>
<li><a href="#note_21-S10">ノート 21-S10:  (ライブラリ) 制御不能シーケンスバグ</a></li>
<li><a href="#note_21-S11">ノート 21-S11:  (SoundPlayer) SoundPlayerエラーメッセージ間違い</a></li>
<li><a href="#note_21-S12">ノート 21-S12:  (ライブラリ) ミュートオフ中のミュートオフ操作</a></li>
<li><a href="#note_21-S13">ノート 21-S13:  (コンバータ) バンクリストファイルの更新</a></li>
<li><a href="#note_21-S14">ノート 21-S14:  (コンバータ) シーケンスコンバータseqconvエラーチェック</a></li>
</ul>
<h3><a href="#version_20040902">■ 2004年09月02日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_20-S01">ノート 20-S01:  (SoundPlayer) リアルタイムMIDI再生</a></li>
<li><a href="#note_20-S02">ノート 20-S02:  (コンバータ) バンクリストファイル出力</a></li>
<li><a href="#note_20-S03">ノート 20-S03:  (コンバータ) SMFテキストコマンド埋め込み</a></li>
<li><a href="#note_20-S04">ノート 20-S04:  (コンバータ) シーケンスアーカイブ同一ラベル２重定義</a></li>
<li><a href="#note_20-S05">ノート 20-S05:  (ライブラリ) スリープ復帰機能</a></li>
<li><a href="#note_20-S06">ノート 20-S06:  (ライブラリ) サウンドヒープのクリア</a></li>
<li><a href="#note_20-S07">ノート 20-S07:  (ライブラリ) NNS_SndArcSetup関数追加</a></li>
<li><a href="#note_20-S08">ノート 20-S08:  (ライブラリ) NNS_SndArcStrmSetupPlayer関数追加</a></li>
</ul>
<h4>不具合修正</h4>
<ul style="list-style-type:none;">
<li><a href="#note_20-S09">ノート 20-S09:  (ライブラリ) プレイヤーヒープ解放バグ</a></li>
<li><a href="#note_20-S10">ノート 20-S10:  (コンバータ) SMFコンバータsmfconvトラック出力ミス</a></li>
<li><a href="#note_20-S11">ノート 20-S11:  (コンバータ) SMFコンバータsmfconvループ開始位置ずれ</a></li>
<li><a href="#note_20-S12">ノート 20-S12:  (コンバータ) バンクコンバータbankconvパス解釈ミス</a></li>
<li><a href="#note_20-S13">ノート 20-S13:  (コンバータ) #define ２重定義エラー</a></li>
</ul>
<h3><a href="#version_20040810">■ 2004年08月10日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_16-S01">ノート 16-S01:  (全般) ストリーム再生対応</a></li>
<li><a href="#note_16-S02">ノート 16-S02:  (コンバータ) サウンドアーカイブ定義ファイルの変更</a></li>
<li><a href="#note_16-S03">ノート 16-S03:  (SoundPlayer) ストリーム再生対応</a></li>
<li><a href="#note_16-S04">ノート 16-S04:  (ライブラリ) サウンドアーカイブストリームライブラリ追加</a></li>
<li><a href="#note_16-S05">ノート 16-S05:  (ライブラリ) ストリームライブラリ追加</a></li>
<li><a href="#note_16-S06">ノート 16-S06:  (ライブラリ) NNS_SndStopSoundAll関数追加</a></li>
<li><a href="#note_16-S07">ノート 16-S07:  (ライブラリ) NNS_SndHeapDestroy関数追加</a></li>
<li><a href="#note_16-S08">ノート 16-S08:  (コンバータ) SMFコンバータsmfconv出力ラベル名変更</a></li>
</ul>
<h4>不具合修正</h4>
<ul style="list-style-type:none;">
<li><a href="#note_16-S09">ノート 16-S09:  (コンバータ) サウンドアーカイバsndarcの異常終了</a></li>
<li><a href="#note_16-S10">ノート 16-S10:  (コンバータ) バンクコンバータ bankconvの異常エラー</a></li>
<li><a href="#note_16-S11">ノート 16-S11:  (コンバータ) SMFコンバータsmfconvのメタイベントの順序不定</a></li>
</ul>
<h3><a href="#version_20040720">■ 2004年07月20日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_13-S01">ノート 13-S01:  (コンバータ/ライブラリ) バイナリデータフォーマットの変更</a></li>
<li><a href="#note_13-S02">ノート 13-S02:  (SoundPlayer) 実行ファイル名変更</a></li>
<li><a href="#note_13-S03">ノート 13-S03:  (全般) デフォルトプラットフォームの変更</a></li>
<li><a href="#note_13-S04">ノート 13-S04:  (SoundPlayer) シーケンスタイプ選択機能</a></li>
<li><a href="#note_13-S05">ノート 13-S05:  (ライブラリ) 波形再生ライブラリ追加</a></li>
<li><a href="#note_13-S06">ノート 13-S06:  (ライブラリ) エフェクト機能追加</a></li>
<li><a href="#note_13-S07">ノート 13-S07:  (ライブラリ) NNS_SndCaptureStartReverb引数変更</a></li>
<li><a href="#note_13-S08">ノート 13-S08:  (ライブラリ) NNSSndArcBankInfo構造体変更</a></li>
<li><a href="#note_13-S09">ノート 13-S09:  (ライブラリ) 関数削除</a></li>
<li><a href="#note_13-S10">ノート 13-S10:  (コンバータ/ライブラリ) １バンク複数波形アーカイブ機能追加</a></li>
<li><a href="#note_13-S11">ノート 13-S11:  (コンバータ) サウンドアーカイブのシンボルデータ削除オプション</a></li>
</ul>
<h4>不具合修正</h4>
<ul style="list-style-type:none;">
<li><a href="#note_13-S12">ノート 13-S12:  (コンバータ) シーケンス最大同時再生数の最大値ミス</a></li>
</ul>
<h3><a href="#version_20040610">■ 2004年06月10日版</a></h3>
<h4>追加・変更された機能</h4>
<ul style="list-style-type:none;">
<li><a href="#note_09-S01">ノート 09-S01:  (全般) 以前の環境からの移行</a></li>
<li><a href="#note_09-S02">ノート 09-S02:  (全般) ファイルシステム対応</a></li>
<li><a href="#note_09-S03">ノート 09-S03:  (全般) サウンドデータの組み込み方法変更</a></li>
<li><a href="#note_09-S04">ノート 09-S04:  (全般) メモリ管理機構の追加</a></li>
<li><a href="#note_09-S05">ノート 09-S05:  (ライブラリ) サウンドライブラリの初期化</a></li>
<li><a href="#note_09-S06">ノート 09-S06:  (ライブラリ) ARM7コンポーネントの変更</a></li>
<li><a href="#note_09-S07">ノート 09-S07:  (コンバータ) コンバートコマンドの変更</a></li>
<li><a href="#note_09-S08">ノート 09-S08:  (SoundPlayer) ラベル名表示</a></li>
<li><a href="#note_09-S09">ノート 09-S09:  (SoundPlayer) 手動ロードモード追加</a></li>
<li><a href="#note_09-S10">ノート 09-S10:  (コンバータ/ライブラリ) 複数シーケンス再生</a></li>
<li><a href="#note_09-S11">ノート 09-S11:  (コンバータ/ライブラリ) プレイヤー数の上限の変更</a></li>
<li><a href="#note_09-S12">ノート 09-S12:  (コンバータ/ライブラリ) 同時シーケンス再生数の指定</a></li>
<li><a href="#note_09-S13">ノート 09-S13:  (ライブラリ) フェードアウト中のプレイヤープライオリティ</a></li>
<li><a href="#note_09-S14">ノート 09-S14:  (ライブラリ) リリース・ディケイの微調整</a></li>
<li><a href="#note_09-S15">ノート 09-S15:  (コンバータ) サウンドマップファイル出力</a></li>
<li><a href="#note_09-S16">ノート 09-S16:  (コンバータ) インデックス番号指定</a></li>
<li><a href="#note_09-S17">ノート 09-S17:  (コンバータ) プログラムナンバリスト出力</a></li>
<li><a href="#note_09-S18">ノート 09-S18:  (コンバータ/ライブラリ) エクスプレッションの追加</a></li>
<li><a href="#note_09-S19">ノート 09-S19:  (コンバータ) MIDIからのsweep_pitch</a></li>
<li><a href="#note_09-S20">ノート 09-S20:  (コンバータ) prg、mod_delayコマンドの最大値</a></li>
<li><a href="#note_09-S21">ノート 09-S21:  (コンバータ/ライブラリ) ランダムコマンドの追加</a></li>
<li><a href="#note_09-S22">ノート 09-S22:  (コンバータ/ライブラリ) 変数コマンドの追加</a></li>
<li><a href="#note_09-S23">ノート 09-S23:  (コンバータ/ライブラリ) 制御コマンドの追加</a></li>
<li><a href="#note_09-S24">ノート 09-S24:  (ライブラリ) NNS_SndArcPlayerInit関数削除</a></li>
<li><a href="#note_09-S25">ノート 09-S25:  (ライブラリ) NNS_SndArcPlayerStartSeqWithPlayerNo関数削除</a></li>
<li><a href="#note_09-S26">ノート 09-S26:  (ライブラリ) 関数名変更</a></li>
<li><a href="#note_09-S27">ノート 09-S27:  (ライブラリ) シーケンス変数関数追加</a></li>
<li><a href="#note_09-S28">ノート 09-S28:  (ライブラリ) ティック数取得関数追加</a></li>
<li><a href="#note_09-S29">ノート 09-S29:  (ライブラリ) その他関数追加</a></li>
</ul>
<h4>不具合修正</h4>
<ul style="list-style-type:none;">
<li><a href="#note_09-S30">ノート 09-S30:  (ライブラリ) 発音プライオリティ設定が反映されないバグ</a></li>
<li><a href="#note_09-S31">ノート 09-S31:  (ライブラリ) NNS_SndPlayerSetTrackPan関数のアサートに関するバグ</a></li>
<li><a href="#note_09-S32">ノート 09-S32:  (ライブラリ) NNS_SndPlayerStopSeq時のリリースに関するバグ</a></li>
</ul>


<h2 id="version_20080408">■ 2008年04月08日版での変更点</h2>
<h3 id="note_76-S01">ノート 76-S01:  (マニュアル) 改訂履歴の書式変更とページヘッダの修正</h3>
<p>下記のpdfマニュアルにおいて、改訂履歴の書式変更とページヘッダの修正を行いました。
</p>
<ul><li> NITRO_Composer_BankDataManual.pdf
</li>
<li> NITRO_Composer_QuickStartGuide.pdf
</li>
<li> NITRO_Composer_SequenceDataManual.pdf
</li>
<li> NITRO_Composer_SoundArchiveManual.pdf
</li>
<li> NITRO_Composer_SoundDesignerGuide.pdf
</li>
<li> NITRO_Composer_SoundProgrammerGuide.pdf
</li>
<li> NITRO_Composer_SoundSystemManual.pdf
</li>
<li> NITRO_Composer_SoundToolManual.pdf
</li>
</ul>
<h2 id="version_20071126">■ 2007年11月26日版での変更点</h2>
<h3 id="note_71-S01">ノート 71-S01:  (ライブラリ) サウンドアーカイブのロードブロックサイズ設定追加</h3>
<p>サウンドアーカイブからのデータロード時のロードブロックサイズを設定／取得できる以下の関数を追加しました。
</p>
<ul><li>NNS_SndArcSetLoadBlockSize
</li>
<li>NNS_SndArcGetLoadBlockSize
</li>
</ul>
<p>設定したロードブロックサイズより大きなデータをロードするときは、 ロードブロックサイズ単位で分割し、
複数回に分けてロードが行われるようになります。
</p>
<h3 id="note_71-S02">ノート 71-S02:  (ライブラリ) 関数引数のconst化</h3>
<p>以下の関数の引数に、constをつけるようにしました。
</p>
<ul><li> NNS_SndHandleIsValid
</li>
<li> NNS_SndStrmHandleIsValid
</li>
</ul>
<h3 id="note_71-S03">ノート 71-S03:  (コンバータ/SoundPlayer) MIDI RPN対応</h3>
<p>MIDIのRPNに対応しました。RPN LSB=0 MSB=0で、ピッチベンドセンシティビティ(bendrange)を設定することができます。
</p>
<h3 id="note_71-S04">ノート 71-S04:  (コンバータ/ライブラリ) エンベロープに関するシーケンスコマンド無効化</h3>
<p>attck, decay, sustain, release, envelopeの各シーケンスコマンドについて、
これまでは一度シーケンス側でエンベロープの設定を行うと、バンク側の設定に戻すことができませんでしたが、
それぞれ引数に-1を指定することで、シーケンス側の設定を無効にし、バンク側の設定が有効になるようにしました。
</p>
<h3 id="note_71-S05">ノート 71-S05:  (コンバータ) ADPCMエンコード処理改良</h3>
<p>waveconvおよびstrmconvにおいて、ADPCMエンコードによるノイズ発生を軽減させるような改良を行いました。
</p>
<h3 id="note_71-S06">ノート 71-S06:  (ライブラリ) ストリームの再生開始オフセットに関する不具合修正</h3>
<p>NNS_SndArcStrmStart関数などで指定できる再生開始オフセットについて、
ライブラリ内の計算でオーバーフローを起こし、
指定されたオフセット位置から再生されないことがある不具合がありましたが、修正されました。
</p>
<h3 id="note_71-S07">ノート 71-S07:  (コンバータ) サウンドアーカイブ内データのアライメントに関する不具合修正</h3>
<p>2007/03/14版の変更に伴い、サウンドアーカイブ内のデータのアライメントがずれてしまい、実行時にアサートにひっかかるなどする問題がありましたが、修正されました。
</p>
<p>ただし、サウンドデータの再コンバートが必要です。
</p>
<h3 id="note_71-S08">ノート 71-S08:  (コンバータ) サウンドマップファイルのデータサイズに関する不具合修正</h3>
<p>サウンドアーカイブのコンバート時に生成されるサウンドマップファイル(*.smap)に記述されるデータサイズについて、不正確な値が出力されることがある問題がありましたが、修正されました。
</p>
<h3 id="note_71-S09">ノート 71-S09:  (コンバータ) AIFFの読み取り処理に関する不具合修正</h3>
<p>waveconv,およびstrmconvにおいて、
正しいAIFFファイルであるにも関わらずコンバートエラーになることがある問題がありましたが、
修正されました。
</p>
<h2 id="version_20070314">■ 2007年03月14日版での変更点</h2>
<h3 id="note_64-S01">ノート 64-S01:  (SoundPlayer) SoundPlayerに出力エフェクト変更機能追加</h3>
<p>SoundPlayerに、出力エフェクトを変更することができる機能を追加しました。
</p>
<h3 id="note_64-S02">ノート 64-S02:  (SoundPlayer) SoundPlayerにストリームの処理負荷表示追加</h3>
<p>SoundPlayerの画面上に、ストリーム再生中のストリームスレッドの処理負荷を表示するようにしました。
</p>
<h3 id="note_64-S03">ノート 64-S03:  (SoundPlayer) SoundPlayerの複数サウンド同時再生機能追加</h3>
<p>SoundPlayerで、複数のサウンドを同じタイミングで再生する機能を追加しました。詳しくは、「サウンドデザイナーガイド」をご覧下さい。
</p>
<h3 id="note_64-S04">ノート 64-S04:  (コンバータ)サウンドアーカイブのアライメント指定機能追加</h3>
<p>サウンドアーカイバsndarcに、アーカイブ内のサウンドデータのアライメントを指定できる.alignオプションを追加しました。詳しくは、「サウンドツールマニュアル」をご覧下さい。
</p>
<h3 id="note_64-S05">ノート 64-S05:  (コンバータ) サウンドアーカイブのコンバートファイルタイプ指定機能追加</h3>
<p>サウンドアーカイバsndarcに、コンバートするファイルをファイルタイプで指定する.convertオプションを追加しました。詳しくは、「サウンドツールマニュアル」をご覧下さい。
</p>
<h3 id="note_64-S06">ノート 64-S06:  (ライブラリ) サウンドアーカイブストリーム関連の関数追加</h3>
<p>再生中のストリームデータのチャンネル数を取得する関数NNS_SndArcStrmGetChannelCount及び、ストリームの音量を変更する関数NNS_SndArcStrmSetVolumeを追加しました。
</p>
<h3 id="note_64-S07">ノート 64-S07:  (コンバータ) コマンドライン引数オーバーによるコンバートエラーが発生するバグ修正</h3>
<p>バンクファイルなどのファイル数が増えたとき、コマンドライン引数オーバーによるコンバートエラーが発生することがある問題がありましたが、修正されました。
</p>
<h2 id="version_20060529">■ 2006年05月29日版での変更点</h2>
<h3 id="note_59-S01">ノート 59-S01:  (コンバータ/ライブラリ) シーケンスコマンドmuteの追加</h3>
<p>シーケンスデータからミュートの設定を行うコマンドmuteを追加しました。
このコマンドは、SDKバージョン3.1以降でのみ動作します。詳しくは、「シーケンスデータマニュアル」をご覧下さい。
</p>
<h3 id="note_59-S02">ノート 59-S02:  (コンバータ) サウンドアーカイブ定義ファイルで、ラベルの後方参照機能</h3>
<p>サウンドアーカイブ定義ファイルにおいて、これまでは、使用するラベルはあらかじめ定義しておく必要がありましたが、後で定義するラベルも使用可能になりました。
</p>
<h3 id="note_59-S03">ノート 59-S03:  (コンバータ) SMFテキストコマンド埋め込みのラベル名展開機能拡張</h3>
<p>SMFテキストコマンド埋め込みのラベル名展開機能で、'$'の代わりに、'$$'を使うことで、トラック番号のみ展開して、ファイル名を展開しないようにすることができるようになりました。
詳しくは、「シーケンスデータマニュアル」をご覧下さい。
</p>
<h3 id="note_59-S04">ノート 59-S04:  (ライブラリ) NNS_SndPlayerSetTrackMuteEx関数の追加</h3>
<p>発音中の音を止めずにミュートを行うことができるNNS_SndPlayerSetTrackMuteEx関数を追加しました。
この関数は、SDKバージョン3.1以降でのみ動作します。
</p>
<h3 id="note_59-S05">ノート 59-S05:  (ライブラリ) NNS_SndCaptureDestroyThread関数の追加</h3>
<p>キャプチャスレッドを終了させるNNS_SndCaptureDestroyThread関数を追加しました。
</p>
<h3 id="note_59-S06">ノート 59-S06:  (コンバータ) SMFフォーマット1のコンバート時に最後のwaitコマンドが欠けるバグ修正</h3>
<p>SMFフォーマット1をコンバートしたとき、トラック最後の部分に挿入されるべきwaitコマンドが欠けることがある問題がありましたが、修正されました。
</p>
<h3 id="note_59-S07">ノート 59-S07:  (コンバータ) 空白文字を含んだパスで、コンバートが正しく処理されないバグ修正</h3>
<p>空白文字を含んだパスでコンバートを実行すると、コンバートが正しく処理されない不具合がありましたが、修正されました。
</p>
<h3 id="note_59-S08">ノート 59-S08:  (コンバータ) グループ番号の欠番を作ると、サウンドマップファイルのレイアウトが崩れるバグ修正</h3>
<p>サウンドアーカイブ定義ファイル(*.sarc)のグループ定義で、グループ番号を直接指定して、グループ番号の欠番を作ると、コンバート時に出力されるサウンドマップファイル(*.smap)のレイアウトが崩れてしまう問題がありましたが、修正されました。
</p>
<h2 id="version_20050901">■ 2005年09月01日版での変更点</h2>
<h3 id="note_50-S01">ノート 50-S01:  (ライブラリ) メモリ上のストリームデータ再生</h3>
<p>従来は、NNS_SndArcInitOnMemory関数で初期化されたサウンドアーカイブに含まれるストリームデータを再生することはできませんでしたが、NNS_SndArcInit関数で初期化した時と同じ方法で、再生することができるようになりました。
</p>
<h3 id="note_50-S02">ノート 50-S02:  (コンバータ) サウンドアーカイバsndarcの出力ファイル名指定オプション追加</h3>
<p>サウンドアーカイバsndarcが出力する *.sdat, *.sadl, *.sbdlのファイル名を指定できるオプションを追加しました。
詳しくは、「サウンドツールマニュアル」をご覧下さい。
</p>
<h3 id="note_50-S03">ノート 50-S03:  (コンバータ) サウンドアーカイバsndarcの前処理ファイル指定オプション追加</h3>
<p>サウンドアーカイバsndarcで、引数に指定したサウンドアーカイブ定義ファイル(*.sarc)の前に処理を行う、前処理ファイルを指定できるオプションを追加しました。
詳しくは、「サウンドツールマニュアル」をご覧下さい。
</p>
<h3 id="note_50-S04">ノート 50-S04:  (ライブラリ) NNS_SndArcInitWithResult関数の追加</h3>
<p>ファイル読み込みが失敗する可能性がある状況で、サウンドアーカイブの初期化に成功したかどうかを判断できるように、NNS_SndArcInitWithResult関数を追加しました。この関数をNNS_SndArcInit関数の代わりに呼びだすことで、サウンドアーカイブの初期化に成功したかどうかを知ることができます。
詳しくは、関数リファレンスをご覧下さい。
</p>
<h3 id="note_50-S05">ノート 50-S05:  (ライブラリ) キャプチャーの状態取得関数の追加</h3>
<p>キャプチャーが実行中かどうかを取得する関数NNS_SndCaptureIsActive及び、実行中のキャプチャーの種類を取得する関数NNS_SndCaptureGetCaptureTypeを追加しました。
詳しくは、関数リファレンスをご覧下さい。
</p>
<h3 id="note_50-S06">ノート 50-S06:  (ライブラリ) NNS_SndUpdateDriverInfo関数が頻繁に失敗するバグ修正</h3>
<p>NNS_SndUpdateDriverInfoを１フレームに１回の間隔で呼びだしていても、２回に１回失敗する問題がありましたが、修正されました。
</p>
<h3 id="note_50-S07">ノート 50-S07:  (コンバータ) sndarc及びbankconvが、ファイルパスを誤認識するバグ修正</h3>
<p>サウンドアーカイバsndarc及び、バンクコンバータbankconvにおいて、@PATHを使わずに指定したファイルパスを、間違ったディレクトリからの相対パスとして解釈することがあり、不適切なコンバートエラーが発生するなどの症状を引き起こしていましたが、修正されました。
</p>
<h2 id="version_20050606">■ 2005年06月06日版での変更点</h2>
<h3 id="note_45-S01">ノート 45-S01:  (コンバータ/ライブラリ) ノートオフを無視するインスト設定の追加</h3>
<p>バンク定義ファイルで、ノートオフを無視して波形データ終端まで再生するインストを定義できるようになりました。
エンベロープのリリース設定箇所に、リリース値の代わりに、&quot;DISABLE&quot;と書くと、リリースが無効化され、ノートオフが行われた後もそのままの音量で、波形データ終端まで発音されます。
詳しくは、「バンクデータマニュアル」をご覧下さい。
</p>
<h3 id="note_45-S02">ノート 45-S02:  (コンバータ) バンク定義ファイルのオリジナルキーの数値指定</h3>
<p>バンク定義ファイルで、オリジナルキーをキー表記ではなく、数値でも指定できるようにしました。
詳しくは、「バンクデータマニュアル」をご覧下さい。
</p>
<h3 id="note_45-S03">ノート 45-S03:  (ドキュメント) サウンドドライバ(SND)の関数リファレンス削除</h3>
<p>サウンドドライバ(SND)のソースコード及び関数リファレンスが、NITRO-SDKに収録されたことに伴い、NITRO-Systemのパッケージから、サウンドドライバ(SND)の関数リファレンスを削除しました。
</p>
<h3 id="note_45-S04">ノート 45-S04:  (ライブラリ) ストリームプリペア用のスレッド作成関数追加</h3>
<p>ストリームプリペア処理を行うスレッドを起動する関数NNS_SndArcStrmCreatePrepareThreadを追加しました。
詳しくはリファレンスマニュアルをご覧下さい。
</p>
<h3 id="note_45-S05">ノート 45-S05:  (ライブラリ) プチノイズが発生することがある問題対処</h3>
<p>シーケンススタート直後にボリュームを変更していたり、立て続けにシーケンスを再生している場合に、プチノイズが発生することがある問題がありましたが、修正されました。
この問題は、一連のサウンド関数呼び出しが、別のサウンドフレームにまたがって処理される場合があり、中途半端な状態のサウンドが一瞬だけ再生されるために発生したものでした。このため、シーケンススタート時には、一連のサウンド関数呼び出しが完了するまで、実際のシーケンススタート処理を待たせるようにしました。
</p>
<h3 id="note_45-S06">ノート 45-S06:  (SoundPlayer) SoundPlayerリアルタイムMIDIポルタメント発音バグ修正</h3>
<p>SoundPlayerを使ったリアルタイムMIDI再生において、ポルタメントを使って発音した場合、音程変化の開始位置が正しくなかった問題がありましたが、修正されました。
</p>
<h3 id="note_45-S07">ノート 45-S07:  (コンバータ) bankconvドライブレターの大文字、小文字の判別ミス修正</h3>
<p>バンクコンバータbankconvにおいて、ドライブレターの大文字、小文字が違うだけの場合に、誤って別ファイルと認識していた問題がありましたが、修正されました。
</p>
<h2 id="version_20050328">■ 2005年03月28日版での変更点</h2>
<h3 id="note_43-S01">ノート 43-S01:  (ライブラリ) プレイヤーヒープへの波形データ個別ロード機能追加</h3>
<p>波形データの個別ロード機能が、プレイヤーヒープへのロード時にも働くように修正されました。
</p>
<h3 id="note_43-S02">ノート 43-S02:  (ライブラリ) シーケンスアーカイブ再生時のプレイヤーヒープ利用機能追加</h3>
<p>シーケンスアーカイブの再生時に、バンクデータ及び波形データをプレイヤーヒープへロードできるように修正されました。
ただし、シーケンスアーカイブ自身は、プレイヤーヒープへロードすることはできません。あらかじめ、サウンドヒープへロードしておく必要があることに注意してください。
</p>
<h3 id="note_43-S03">ノート 43-S03:  (コンバータ) サウンドマップファイル(*.smap)フォーマット変更</h3>
<p>サウンドマップファイル(*.smap)ファイルのフォーマットを一部変更し、実際にデータをロードしたときに消費されるヒープサイズなども出力するようになりました。
詳しくは、「サウンドアーカイブマニュアル」をご覧下さい。
</p>
<h3 id="note_43-S04">ノート 43-S04:  (コンバータ) テキストファイルの数値表記拡張</h3>
<p>サウンドアーカイブ定義ファイル、バンク定義ファイル及びテキストシーケンスファイルにおいて、パラメータの数値表記に、２進数表記とビット表記を使えるように拡張しました。
</p>
<p>２進数表記では、0b001001のように先頭に&quot;0b&quot;を付けます。
</p>
<p>ビット表記は、ビットフラグのように、あるビットが０か１かが意味を持つ数値を記述するのに有効で、{ 1,3,6-8 }のように記述します。これで、下位１，３ビットおよび６から８ビットが１である数値、すなわち0b111001010を表します。最下位ビットが、０ビットとなることに注意してください。
</p>
<p>詳しくは、「サウンドアーカイブマニュアル」「バンクデータマニュアル」「シーケンスデータマニュアル」をご覧下さい。（それぞれの内容は同一です。）
</p>
<h3 id="note_43-S05">ノート 43-S05:  (コンバータ) NULLタイプインスト追加</h3>
<p>バンク定義ファイルで、NULLタイプのインストが定義できるようになりました。
NULLタイプのインストは、発音しないタイプのインストです。例えば、キースプリットと組み合わせて、あるスプリットのみ発音しないようなインストを作成することができます。
詳しくは、「バンクデータマニュアル」をご覧下さい。
</p>
<h3 id="note_43-S06">ノート 43-S06:  (ライブラリ) プレイヤー毎のボリューム設定関数追加</h3>
<p>プレイヤー毎にボリューム値を設定できる関数NNS_SndPlayerSetPlayerVolumeを追加しました。
詳しくは、リファレンスマニュアルをご覧下さい。
</p>
<h3 id="note_43-S07">ノート 43-S07:  (ライブラリ) トラックパンレンジ設定関数追加</h3>
<p>トラックパンレンジを設定する関数NNS_SndPlayerSetTrackPanRangeを追加しました。
トラックパンレンジとは、シーケンスデータ中で設定されたトラックパンの変化幅を指定するパラメータです。トラックパンレンジを変更することで、シーケンスデータ中で設定されたトラックパンの変化幅を小さくすることができます。
</p>
<h3 id="note_43-S08">ノート 43-S08:  (ライブラリ) ストリームデータの時間長取得関数追加</h3>
<p>ストリームデータ全体の時間長を取得できる関数NNS_SndArcStrmGetTimeLengthを追加しました。
詳しくは、リファレンスマニュアルをご覧下さい。
</p>
<h3 id="note_43-S09">ノート 43-S09:  (ライブラリ) サウンドドライバ情報取得関数追加</h3>
<p>サウンドドライバの情報を取得するための関数を追加しました。追加した関数は以下の通りです、
</p>
<ul><li> NNS_SndUpdateDriverInfo
</li>
<li> NNS_SndReadDriverChannelInfo
</li>
<li> NNS_SndPlayerReadDriverPlayerInfo
</li>
<li> NNS_SndPlayerReadDriverTrackInfo
</li>
</ul>
<p>また、これらの関数を使って、サウンドドライバの情報を画面上に表示するdriverInfoデモを追加しました。
</p>
<h3 id="note_43-S10">ノート 43-S10:  (ライブラリ) SND_FlushCommand関数のフラグSND_COMMAND_IMMEDIATE追加</h3>
<p>SND_FlushCommand関数の引数フラグに、SND_COMMAND_IMMEDIATEを追加で指定することができるようになりました。SND_COMMAND_IMMEDIATEを指定すると、発行したコマンドが、次のサウンドフレームを待たずに処理されるようになります。
</p>
<h3 id="note_43-S11">ノート 43-S11:  (ライブラリ) SNDInstTypeにSND_INST_NULL追加</h3>
<p>SND_ReadInstData関数などで使用するSNDInstData構造体のtypeメンバが取りうる値に、SND_INST_NULLが追加されました。なお、SND_INST_NULLが設定されているインストデータは、発音されません。
</p>
<h3 id="note_43-S12">ノート 43-S12:  (ライブラリ) ポルタメントコマンドで発音中のチャンネルがリリースされてしまうバグ修正</h3>
<p>シーケンスデータ中で、ポルタメントコマンドporta、porta_on、porta_offを実行すると、該当トラックで発音中のチャンネルが全てリリースされてしまうバグがありましたが、修正されました。
このバグに伴って、タイモード中にポルタメントコマンドを実行すると、正常に発音されない症状なども発生していましたが、これも修正されました。
</p>
<h3 id="note_43-S13">ノート 43-S13:  (SoundPlayer) SoundPlayerで手動ロードモード時、データロードが選択できないバグ修正</h3>
<p>SoundPlayerの手動ロードモードにおいて、データロードのメニュー項目へカーソルを移動できないために、データのロードが行えないバグがありましたが、修正されました。
</p>
<h3 id="note_43-S14">ノート 43-S14:  (コンバータ) smfconvでトラックの最後に不要なwaitが入るバグ修正</h3>
<p>SMFファイルをコンバートしてできる*.smftファイルで、各トラックの最後に不要なwaitコマンドが入ることがあるバグがありましたが、修正されました。
</p>
<h3 id="note_43-S15">ノート 43-S15:  (コンバータ) smfconvで不正なwait時間を出力するバグ修正</h3>
<p>SMFファイル中に、同じタイミングで拍子イベントが複数存在する場合、不正なwait時間が出力されることがあるバグがありましたが、修正されました。
</p>
<h3 id="note_43-S16">ノート 43-S16:  (コンバータ) bankconvで間違ってエラーが発生するバグ修正</h3>
<p>バンク定義ファイル中で、インストラベルとインデックス番号を両方指定していると、間違ってエラーが発生してしまうバグがありましたが、エラーとならないように修正されました。
</p>
<h2 id="version_20050131">■ 2005年01月31日版での変更点</h2>
<h3 id="note_39-S01">ノート 39-S01:  (コンバータ/ライブラリ) 波形データの個別ロード機能追加</h3>
<p>波形アーカイブ中の波形データを個別にロードできる機能を追加しました。
複数のバンクで共通の波形データを使っている場合に、波形データのグループ管理の機能を使わなくても、簡単に消費メモリを効率化できます。
詳しくは、「サウンドアーカイブマニュアル」をご覧下さい。
</p>
<h3 id="note_39-S02">ノート 39-S02:  (コンバータ/ライブラリ) シーケンスの使用チャンネル制限機能追加</h3>
<p>シーケンスが使用できるチャンネルを、プレイヤー毎に制限できる機能を追加しました。
サウンドアーカイブ定義ファイル中の@PLAYERセクションにて、確保できるチャンネルのビットフラグを指定できるようになりました。（省略可能）
詳しくは、「サウンドアーカイブマニュアル」をご覧下さい。
</p>
<h3 id="note_39-S03">ノート 39-S03:  (コンバータ) UNC形式のパス表記対応</h3>
<p>@PATHおよび#includeにおいて、&quot;//server-1/path/dir&quot;のようなUNC形式のパス表記を使えるように修正しました。
</p>
<h3 id="note_39-S04">ノート 39-S04:  (コンバータ) #include&lt;ファイル名&gt;形式の構文追加</h3>
<p>テキストデータファイルにおいて、#include&quot;ファイル名&quot;と同様の機能をもった#include&lt;ファイル名&gt;形式の構文を追加しました。#include&lt;ファイル名&gt;形式の構文を使うと、現在のファイルからの相対パスではなく、サウンドアーカイブ定義ファイル(*.sarc)からの相対パスとなります。
詳しくは、「サウンドツールマニュアル」をご覧下さい。
</p>
<h3 id="note_39-S05">ノート 39-S05:  (コンバータ/ライブラリ) シーケンスコマンドprintvarの追加</h3>
<p>シーケンス変数の値をデバッグ出力するためのシーケンスコマンドprintvarを追加しました。
NITRO-Playerもしくは、SoundPlayerでシーケンスを再生したとき、シーケンス変数の値をMCSサーバもしくは、IS-NITRO-DEBUGGERの出力ウィンドウに表示することができます。
詳しくは、「シーケンスデータマニュアル」をご覧下さい。
</p>
<h3 id="note_39-S06">ノート 39-S06:  (コンバータ) キー表記における大文字小文字の区別の廃止</h3>
<p>cn4形式のキー表記において、大文字小文字関係なく記述できるように変更しました。例えば、&quot;Cn4&quot;や&quot;CN4&quot;の様な記述ができるようになっています。
</p>
<h3 id="note_39-S07">ノート 39-S07:  (SoundPlayer) チャンネルメーター改良</h3>
<p>SoundPlayerで上画面に表示していたチャンネルメーターを下画面に表示するように変更し、より詳しい情報を表示するようにしました。
</p>
<h3 id="note_39-S08">ノート 39-S08:  (ライブラリ) NNS_SndCaptureSetPostOutputEffectCallback関数追加</h3>
<p>出力エフェクトの後処理として呼びだされるコールバック関数を登録するNNS_SndCaptureSetPostOutputEffectCallbackを追加しました。
</p>
<h3 id="note_39-S09">ノート 39-S09:  (ライブラリ) シーケンスの使用チャンネル制限機能追加</h3>
<p>シーケンスが使用できるチャンネルを制限できる機能を追加しました。
プレイヤー毎に設定する場合は、NNS_SndPlayerSetAllocatableChannel関数を使います。
シーケンス再生毎に設定する場合は、NNS_SndPlayerSetTrackAllocatableChannel関数を使います。この関数では、トラック単位の指定もできます。
詳しくは、「サウンドシステムマニュアル」及び「関数リファレンス」をご覧下さい。
</p>
<h3 id="note_39-S10">ノート 39-S10:  (ライブラリ) micThroughデモ追加</h3>
<p>低レベルストリームライブラリNNS_SndStrmを使って、マイク入力をリアルタイムに再生するmicThroughデモを追加しました。
</p>
<h3 id="note_39-S11">ノート 39-S11:  (コンバータ) SMFコンバータバグ修正</h3>
<p>１小節に大量のMIDIイベントが存在した場合、異常なwaitコマンドが出力されることがある問題がありましたが、修正しました。
</p>
<h3 id="note_39-S12">ノート 39-S12:  (ライブラリ) NNS_SndArcStrmStopAllで確保済みチャンネルを解放してしまう問題</h3>
<p>NNS_SndArcStrmAllocChannel関数でチャンネルを確保後、NNS_SndArcStrmStopAll関数または、NNS_SndStopSoundAll関数を呼びだすと、確保済みチャンネルが解放されてしまう問題がありましたが、修正されました。
</p>
<h2 id="version_20041206">■ 2004年12月06日版での変更点</h2>
<h3 id="note_34-S01">ノート 34-S01:  (コンバータ/ライブラリ) モノラルストリームの２チャンネル再生</h3>
<p>モノラルストリームデータをステレオプレイヤーで再生したとき、２チャンネル使って、より大きな音量で再生できるようにするオプション機能を追加しました。
サウンドアーカイブ定義ファイルのストリームデータ登録時に、オプションを指定すると、上記の機能が使えます。詳しくは、「サウンドアーカイブマニュアル」をご覧下さい。
</p>
<h3 id="note_34-S02">ノート 34-S02:  (ライブラリ) NNS_SndArcStrmStartEx2関数の追加</h3>
<p>NNS_SndArcStrmStartEx2関数及び、NNS_SndArcStrmPrepareEx2を追加しました。これらの関数では、従来のストリーム再生関数の機能に加えて、２つのコールバック関数を登録できるようになっています。
登録できるコールバック関数のうちの１つでは、複数のストリームデータをリアルタイムにつなげて再生することができます。このデモが、$NitroSystem/build/demos/snd/stream-2にあります。
もう一つのコールバック関数では、特定のストリーム再生に対して、エフェクトをかけたりすることができます。このデモが、$NitroSystem/build/demos/snd/stream-3にあります。
詳しくは、関数リファレンスをご覧下さい。
</p>
<h3 id="note_34-S03">ノート 34-S03:  (ライブラリ) サウンドドライバのスレッドセーフ化</h3>
<p>サウンドドライバ(SND)関数を全て、スレッドセーフにしました。
</p>
<h3 id="note_34-S04">ノート 34-S04:  (ライブラリ) 再生中のストリームプレイヤーに対するNNS_SndArcStrmAllocChannel呼び出し</h3>
<p>再生中のストリームプレイヤーに対して、NNS_SndArcStrmAllocChannel関数を呼びだすと、関数が失敗するように変更しました。
</p>
<h3 id="note_34-S05">ノート 34-S05:  (ドキュメント) 出力エフェクトに関する注意書き追加</h3>
<p>「サウンドシステムマニュアル」に出力エフェクトに関する注意書きを追加しました。
</p>
<h3 id="note_34-S06">ノート 34-S06:  (ライブラリ) タイオン後のノートが発音されないバグ</h3>
<p>シーケンスデータで、ノートコマンド、tieon、ノートコマンドの順でコマンドが記述されていると、２つ目のノートが発音されないバグがありました。このバグは修正されました。
</p>
<h2 id="version_20041110">■ 2004年11月10日版での変更点</h2>
<h3 id="note_31-S01">ノート 31-S01:  (ライブラリ) リソース管理関数追加</h3>
<p>サウンドドライバ（SND）の関数を直接使う場合、NITRO-Systemライブラリと衝突しないように、リソースを管理する関数を追加しました。追加した関数は、以下の通りです。
</p>
<ul><li> NNS_SndLockChannel
</li>
<li> NNS_SndUnlockChannel
</li>
<li> NNS_SndLockCapture
</li>
<li> NNS_SndUnlockCapture
</li>
<li> NNS_SndAllockAlarm
</li>
<li> NNS_SndFreeAlarm
</li>
</ul>
<p>関数について詳しくは、リファレンスマニュアルをご覧ください。
</p>
<h3 id="note_31-S02">ノート 31-S02:  (ライブラリ) ループ無しストリーム再生サンプル</h3>
<p>ループ無しストリームデータを再生時、最後の数百サンプルが再生されずに停止していましたが、最後のサンプルまで再生されるように修正しました。
</p>
<h3 id="note_31-S03">ノート 31-S03:  (ライブラリ) ストリーム再生中、カレントサウンドアーカイブ切り替えバグ</h3>
<p>ストリーム再生中に、NNS_SndArcSetCurrent関数でカレントサウンドアーカイブを切り替えると、ストリームが正しく再生されないバグがありましたが、修正しました。
</p>
<h3 id="note_31-S04">ノート 31-S04:  (ライブラリ) NNS_SndArcStrmSetChannelVolume関数バグ</h3>
<p>NNS_SndArcStrmSetChannelVolume関数でのボリューム設定が正しく反映されないバグがありましたが、修正しました。
</p>
<h3 id="note_31-S05">ノート 31-S05:  (コンバータ) シーケンスコンバータseqconvコマンド解析バグ</h3>
<p>シーケンスデータで、cn4_r_ifの様に、ノートコマンドに対して、ランダム及び条件指定をつけると、コンバート時にエラーとなってしまうバグがありましたが、修正しました。
</p>
<h2 id="version_20041012">■ 2004年10月12日版での変更点</h2>
<h3 id="note_26-S01">ノート 26-S01:  (SoundPlayer) IS-AGB-MIDI対応</h3>
<p>IS-NITRO-UIC MIDIの代わりに、IS-AGB-MIDIを使って、リアルタイムMIDI再生ができるようになりました。
リアルタイムMIDI再生について詳しくは、「サウンドデザイナーガイド」をご覧ください。
</p>
<h3 id="note_26-S02">ノート 26-S02:  (ライブラリ) 出力エフェクト機能追加</h3>
<p>NNS_SndCaptureStartOutputEffect関数で音声出力全体に対して、サラウンドモード処理、ヘッドフォンモード処理、モノラルモード処理をかけられるようになりました。
サラウンドモードは、DSスピーカーから出力させたときに、スピーカー位置より広がって音を感じられるようにするモードです。ヘッドフォンモードは、ヘッドフォン使用時の耳の負担を軽減するモードです。
$NitroSystem/build/demos/snd/outputEffectにサンプルデモを追加しています。
関数について詳しくは、リファレンスマニュアルをご覧ください。
</p>
<h3 id="note_26-S03">ノート 26-S03:  (ライブラリ) スリープ処理の自動化</h3>
<p>スリープの前後で呼びだす必要があった関数NNS_SndBeginSleep,NNS_SndEndSleep及びNNS_SndStrmBeginSleep,NNS_SndStrmEndSleepを呼びだす必要が無くなりました。これらの処理は、ライブラリ内で自動的に行われます。
</p>
<h3 id="note_26-S04">ノート 26-S04:  (ライブラリ) ストリームプレイヤー指定関数追加</h3>
<p>ストリームプレイヤー番号をプログラムから指定できる関数NNS_SndArcStrmStartEx及び、NNS_SndArcStrmPrepareExを追加しました。
</p>
<h3 id="note_26-S05">ノート 26-S05:  (ライブラリ) モノラルフラグ設定関数追加</h3>
<p>チャンネル毎のパン設定を無視して、全て中央の定位で発音するようにする関数NNS_SndSetMonoFlagを追加しました。また、この機能の実装のために、サウンドドライバに、SND_SetMasterPan関数及び、SND_ResetMasterPan関数を追加しました。
</p>
<h3 id="note_26-S06">ノート 26-S06:  (コンバータ) プレイヤーのラベル指定</h3>
<p>サウンドアーカイブ定義ファイルにて、@PLAYERセクションを@SEQセクションの前で定義した場合に限り、@PLAYERセクションで定義したプレイヤーラベルを、@SEQセクションで指定するプレイヤー番号の代わりに使用できるようになりました。
また、@STRM_PLAYERセクションで定義したストリームプレイヤーのラベルも、同じように@STRMセクションで使用できます。
シーケンスアーカイブの@SEQ_TABLEセクションにて、プレイヤーラベルを使用したい場合は、バンクラベルを使用する方法と同じように、サウンドアーカイブラベルファイル(*.sbdl)を#includeで取り込むことで、使用できるようになります。
$NitroSystem/tools/nitro/SoundPlayer/dataサンプルのsound_data.sarc及びmus/se.musでも、これらの仕組みを使うように修正しましたので、参考にしてください。
</p>
<h3 id="note_26-S07">ノート 26-S07:  (ドキュメント) スリープモード移行時の注意書き追加</h3>
<p>「サウンドプログラマーガイド」に、スリープモード移行時の注意書きを追加しました。
</p>
<h3 id="note_26-S08">ノート 26-S08:  (ドキュメント) ストリームを途切れさせないための説明追加</h3>
<p>「サウンドプログラマーガイド」に、ストリーム再生を途切れさせないための説明を追加しました。
</p>
<h3 id="note_26-S09">ノート 26-S09:  (ドキュメント) 出力エフェクトの紹介追加</h3>
<p>「オーバービュー」に出力エフェクトに関する紹介を追加しました。
</p>
<h3 id="note_26-S10">ノート 26-S10:  (ライブラリ) シーケンスフェードアウト時無限ループバグ</h3>
<p>以下の関数を使ってシーケンスをフェードアウトさせた時に、無限ループに陥ってしまうことがあるバグがありましたが、修正しました。
</p>
<ul><li> NNS_SndPlayerStopSeqByPlayerNo
</li>
<li> NNS_SndPlayerStopSeqBySeqNo
</li>
<li> NNS_SndPlayerStopSeqBySeqArcNo
</li>
<li> NNS_SndPlayerStopSeqBySeqArcIdx
</li>
<li> NNS_SndPlayerStopSeqAll
</li>
</ul>
<h3 id="note_26-S11">ノート 26-S11:  (コンバータ) @PATHコマンド解釈間違い</h3>
<p>サウンドアーカイブ定義ファイル及び、バンク定義ファイル中の@PATHコマンドの解釈に間違いがありました。
#includeを使って別ディレクトリのファイルをインクルードしたとき、インクルード先のファイルで@PATHコマンドを使うと、元のディレクトリからの相対パスとして解釈されていました。これを、インクルード先のファイルのあるディレクトリからの相対パスとして解釈するように修正しました。
この修正により、以前コンバートに成功していたサウンドデータが、コンバート時にエラーとなる可能性があります。その場合は、@PATHの指定を、そのファイルがあるディレクトリからの相対パスとなるように修正してください。
</p>
<h3 id="note_26-S12">ノート 26-S12:  (ライブラリ) シーケンスフェードアウト時のリリースチャンネル処理</h3>
<p>シーケンスフェードアウト時、リリース中のチャンネルの音量が減衰していなかったバグがありましたが、修正しました。
</p>
<h3 id="note_26-S13">ノート 26-S13:  (コンバータ) ファイル名の大文字小文字の区別</h3>
<p>バンク定義ファイルなどでファイルを登録するとき、大文字小文字が違うだけのファイル名を複数指定すると、それぞれ別のデータとして登録されていましたが、１つのデータにまとめるように修正しました。
</p>
<h3 id="note_26-S14">ノート 26-S14:  (コンバータ) waveconvループスタート位置チェック</h3>
<p>ループスタート位置が後ろすぎて、ハードウェア的にループ再生が不可能な状態の時、コンバート時にエラーを出力するように修正しました。
また、限界値に関する情報を、「サウンドツールマニュアル」に記載しました。
</p>
<h2 id="version_20040916">■ 2004年09月16日版での変更点</h2>
<h3 id="note_21-S01">ノート 21-S01:  (コンバータ/ライブラリ) シーケンスコマンドloop_startの拡張</h3>
<p>シーケンスコマンドloop_startのループ回数に0を指定できるようにしました。0を指定すると、無限ループになります。
</p>
<h3 id="note_21-S02">ノート 21-S02:  (コンバータ/ライブラリ) SMFトラック単位のループ指定</h3>
<p>MIDIコントロールチェンジ89と90を使って、トラック単位のループを組めるようになりました。
詳しくは、「シーケンスデータマニュアル」を参照してください。
</p>
<h3 id="note_21-S03">ノート 21-S03:  (コンバータ) SMFループ指定</h3>
<p>SMFでの全トラックループ指定は、マーカー&quot;[&quot;と&quot;]&quot;でしたが、この代わりに、マーカー&quot;loop_start&quot;と&quot;loop_end&quot;も使えるようにしました。（機能的には全く同じです。）
</p>
<h3 id="note_21-S04">ノート 21-S04:  (コンバータ) *.sbdlファイルの拡張と呼称変更</h3>
<p>*.sbdlファイルにバンクラベルのみ定義されていましたが、その他のサウンドアーカイブ定義ファイル(*.sarc)で定義さているラベルも出力されるようにしました。
またそれに伴い、*.sbdlファイルの呼称を、「バンクリストファイル」から「サウンドアーカイブラベルファイル」に変更しました。
</p>
<h3 id="note_21-S05">ノート 21-S05:  (ドキュメント) *.sadlファイルの呼称統一</h3>
<p>*.sadlファイルの呼称が、「サウンドラベルリスト」「サウンドラベルリストファイル」「サウンドラベルファイル」の３種類使われていましたが、「サウンドラベルファイル」に統一しました。
</p>
<h3 id="note_21-S06">ノート 21-S06:  (ライブラリ) NNS_SndCaptureCreateThread関数追加</h3>
<p>キャプチャースレッドを起動する関数NNS_SndCaptureCreateThreadを追加しました。キャプチャースレッドを起動しておくと、エフェクトコールバック関数などがIRQハンドラではなく、キャプチャースレッドから呼びだされるようになります。
</p>
<h3 id="note_21-S07">ノート 21-S07:  (ライブラリ) NNS_SndCaptureStartSampling関数追加</h3>
<p>音声出力をサンプリングできる関数NNS_SndCaptureStartSamplingを追加しました。サンプリングしたデータを、コールバック関数を通して取得できるようになります。
</p>
<h3 id="note_21-S08">ノート 21-S08:  (ライブラリ) NNS_SndArcGetSeqArcSeqCount関数追加</h3>
<p>シーケンスアーカイブ中のシーケンスの個数を取得する関数NNS_SndArcGetSeqArcSeqCountを追加しました。
</p>
<h3 id="note_21-S09">ノート 21-S09:  (ライブラリ) NNS_SndPlayerMoveVolume関数</h3>
<p>NNS_SndPlayerMoveVolume関数の変化フレーム数に0を入れると、ボリュームが0になったり、変化しなかったりするバグがありましたが、修正しました。
</p>
<h3 id="note_21-S10">ノート 21-S10:  (ライブラリ) 制御不能シーケンスバグ</h3>
<p>極めて稀なタイミングで、再生したシーケンスが制御不能になってしまうバグがありましたが、修正しました。
</p>
<h3 id="note_21-S11">ノート 21-S11:  (SoundPlayer) SoundPlayerエラーメッセージ間違い</h3>
<p>シーケンスが使用するバンクの指定で、無効なバンクを指定していた場合、再生しようとすると、&quot;Too Large Data&quot;というエラーメッセージが表示されていましたが、&quot;Invalid Bank No&quot;と表示されるように修正しました。
</p>
<h3 id="note_21-S12">ノート 21-S12:  (ライブラリ) ミュートオフ中のミュートオフ操作</h3>
<p>ミュートしていない状態でミュート解除の操作を行うと、発音中の音が止められてしまう問題がありましたが、何も処理をしないように修正しました。
</p>
<h3 id="note_21-S13">ノート 21-S13:  (コンバータ) バンクリストファイルの更新</h3>
<p>サウンドアーカイバsndarcが出力するバンクリストファイル(*.sbdl)が、サウンドデータを修正していないときでも更新されていましたが、必要が無いときは更新しないように修正しました。
</p>
<h3 id="note_21-S14">ノート 21-S14:  (コンバータ) シーケンスコンバータseqconvエラーチェック</h3>
<p>変数コマンドで使う変数番号に32を指定してもエラーになっていなかったのを、エラーになるように修正しました。
</p>
<h2 id="version_20040902">■ 2004年09月02日版での変更点</h2>
<h3 id="note_20-S01">ノート 20-S01:  (SoundPlayer) リアルタイムMIDI再生</h3>
<p>IS-NITRO-UIC MIDIを使って、リアルタイムMIDI再生ができるようになりました。MIDI信号を使ってリアルタイムに再生できるので、データをコンバートしなくても、シーケンスデータの確認が可能になります。
詳しくは、「サウンドデザイナーガイド」をご覧ください。
</p>
<p>リアルタイムMIDI再生をするためには、「IS-NITRO-UIC MIDI」が必要です。
</p>
<h3 id="note_20-S02">ノート 20-S02:  (コンバータ) バンクリストファイル出力</h3>
<p>サウンドアーカイバsndarc実行時に、バンクリストファイル(*.sbdl)を出力するようになりました。
これは、サウンドアーカイブ定義ファイル(*.sarc)中で定義したバンクラベルを#defineを使って出力したものです。シーケンスアーカイブのテキストファイルで#includeを使って、このファイルを取り込むことにより、@SEQ_TABLEにおけるバンク指定をラベルで行えるようになります。
$NitroSystem/tools/nitro/SoundPlayer/dataサンプルのmus/se.musでも、この仕組みを使うように修正しましたので、参考にしてください。
</p>
<h3 id="note_20-S03">ノート 20-S03:  (コンバータ) SMFテキストコマンド埋め込み</h3>
<p>SMFにマーカーとして、テキストコマンドを埋め込むと、コンバート時に埋め込んだテキストコマンドが、*.smftファイルに出力されるようになりました。SMFを使いながら、部分的にテキストコマンドを使用できます。
詳しくは、「シーケンスデータマニュアル」をご覧ください。
</p>
<h3 id="note_20-S04">ノート 20-S04:  (コンバータ) シーケンスアーカイブ同一ラベル２重定義</h3>
<p>異なるシーケンスアーカイブで、同じラベル名が定義されていても、インデックス番号が同じなら、エラーにならないようにしました。
</p>
<h3 id="note_20-S05">ノート 20-S05:  (ライブラリ) スリープ復帰機能</h3>
<p>スリープモードに移行するPM_GoSleepMode関数の前後で、NNS_SndBeginSleep関数と、NNS_SndEndSleep関数を呼びだすことで、スリープモード復帰時に、前の状態に戻せるようになりました。
</p>
<h3 id="note_20-S06">ノート 20-S06:  (ライブラリ) サウンドヒープのクリア</h3>
<p>サウンドアーカイブ管理領域やストリームバッファが含まれるサウンドヒープの領域を安全に解放できるようになりました。再度使用できるようにするためには、NNS_SndArcSetup関数やNNS_SndArcStrmSetupPlayer関数など、各種セットアップ関数を呼ぶ必要があります。
</p>
<h3 id="note_20-S07">ノート 20-S07:  (ライブラリ) NNS_SndArcSetup関数追加</h3>
<p>一度サウンドアーカイブ管理領域を解放したサウンドアーカイブを再度使用できるようにする関数NNS_SndArcSetupを追加しました。
</p>
<h3 id="note_20-S08">ノート 20-S08:  (ライブラリ) NNS_SndArcStrmSetupPlayer関数追加</h3>
<p>一度ストリームバッファを解放したストリームプレイヤーを再度使用できるようにする関数NNS_SndArcStrmSetupPlayerを追加しました。
</p>
<h3 id="note_20-S09">ノート 20-S09:  (ライブラリ) プレイヤーヒープ解放バグ</h3>
<p>サウンドヒープ中で、プレイヤーヒープが確保されている領域を解放すると、問題が生じるバグがありましたが、修正しました。
</p>
<h3 id="note_20-S10">ノート 20-S10:  (コンバータ) SMFコンバータsmfconvトラック出力ミス</h3>
<p>複数のトラックで、１つのMIDIチャンネルを使用しているとき、１つ目のトラックのデータしか出力されていなかったバグを修正しました。
また使用していないトラックのデータを出力してしまっていたバグも修正しました。
</p>
<h3 id="note_20-S11">ノート 20-S11:  (コンバータ) SMFコンバータsmfconvループ開始位置ずれ</h3>
<p>始めのノートコマンドより前に、ループ開始位置があった場合、ループ開始位置がノートコマンドの位置までずれてしまっていたバグを修正しました。
</p>
<h3 id="note_20-S12">ノート 20-S12:  (コンバータ) バンクコンバータbankconvパス解釈ミス</h3>
<p>サウンドアーカイブ定義ファイル*.sarc中で、@WAVEARCのパスを@PATH &quot;.&quot;としていると、バンクコンバータでエラーとなってしまうバグを修正しました。
</p>
<h3 id="note_20-S13">ノート 20-S13:  (コンバータ) #define ２重定義エラー</h3>
<p>サウンドアーカイブ定義ファイル、バンク定義ファイルなどのテキストデータファイル中で、#defineを使って同じシンボルを２回定義したとき、内容が全く同じであっても２重定義エラーになっていましたが、全く同じ場合は無視するように修正しました。
</p>
<h2 id="version_20040810">■ 2004年08月10日版での変更点</h2>
<h3 id="note_16-S01">ノート 16-S01:  (全般) ストリーム再生対応</h3>
<p>ストリーム再生が可能となりました。機能的なことについては、「サウンドシステムマニュアル」をご覧ください。
</p>
<h3 id="note_16-S02">ノート 16-S02:  (コンバータ) サウンドアーカイブ定義ファイルの変更</h3>
<p>ストリームデータを登録するストリームデータセクションと、ストリームプレイヤーを登録するストリームプレイヤー情報セクションが追加されました。
詳しくは、「サウンドデザイナーガイド」及び「サウンドアーカイブマニュアル」をご覧ください。
</p>
<h3 id="note_16-S03">ノート 16-S03:  (SoundPlayer) ストリーム再生対応</h3>
<p>SoundPlayerでストリームデータを再生できます。
詳しくは、「サウンドデザイナーガイド」をご覧ください。
</p>
<h3 id="note_16-S04">ノート 16-S04:  (ライブラリ) サウンドアーカイブストリームライブラリ追加</h3>
<p>ストリームデータを再生するためのサウンドアーカイブストリームライブラリが追加されました。NNS_SndArcStrmで始まる関数群です。
詳しくは、「サウンドプログラマーガイド」及び「リファレンスマニュアル」をご覧ください。
</p>
<h3 id="note_16-S05">ノート 16-S05:  (ライブラリ) ストリームライブラリ追加</h3>
<p>サウンドアーカイブストリームライブラリより低レベルのストリームライブラリが追加されました。NNS_SndStrmで始まる関数群です。
詳しくは「リファレンスマニュアル」をご覧ください。
</p>
<h3 id="note_16-S06">ノート 16-S06:  (ライブラリ) NNS_SndStopSoundAll関数追加</h3>
<p>全てのサウンドを停止する関数NNS_SndStopSoundAllを追加しました。スリープモードへの移行など、サウンド回路の電源を落とす前には、必ずこの関数で全てのサウンドを停止するようにしてください。
</p>
<h3 id="note_16-S07">ノート 16-S07:  (ライブラリ) NNS_SndHeapDestroy関数追加</h3>
<p>サウンドヒープを破棄する関数NNS_SndHeapDestroyを追加しました。
</p>
<h3 id="note_16-S08">ノート 16-S08:  (コンバータ) SMFコンバータsmfconv出力ラベル名変更</h3>
<p>smfconvが出力する*.smftファイル中で使用しているラベル名の始めに、SMFファイルのファイル名をつけるようにしました。
例えば、sample.midファイルをコンバートしてできるsample.smftファイル中で、Track_0というラベルが出力されていたものが、SMF_sample_Track_0というラベル名で出力されるようになります。
</p>
<h3 id="note_16-S09">ノート 16-S09:  (コンバータ) サウンドアーカイバsndarcの異常終了</h3>
<p>サウンドアーカイブ定義ファイルで、シーケンスデータなどの登録番号を直接指定して、空き番号を作るように設定すると、サウンドアーカイバが、コンバート時に異常終了してしまうバグがありましたが、修正しました。
</p>
<h3 id="note_16-S10">ノート 16-S10:  (コンバータ) バンクコンバータ bankconvの異常エラー</h3>
<p>バンクファイルと波形リストファイルのディレクトリ階層が、ある特定の状態の時、パスの解釈を間違って、バンクコンバート時にエラーになってしまうバグがありましたが、修正しました。
</p>
<h3 id="note_16-S11">ノート 16-S11:  (コンバータ) SMFコンバータsmfconvのメタイベントの順序不定</h3>
<p>同一ティックで複数のメタイベントが存在した場合、出力順序が不定になる問題がありました。SMFに格納されている順序のまま出力するように修正しました。
</p>
<h2 id="version_20040720">■ 2004年07月20日版での変更点</h2>
<h3 id="note_13-S01">ノート 13-S01:  (コンバータ/ライブラリ) バイナリデータフォーマットの変更</h3>
<p>サウンドデータのバイナリフォーマットが変更になりましたので、サウンドデータをReMakeSound.batで再コンバートする必要があります。
また、バンクデータのサイズが以前に比べて若干大きくなります。メモリに余裕が無い場合には、データのロードに失敗する可能性があります。
</p>
<h3 id="note_13-S02">ノート 13-S02:  (SoundPlayer) 実行ファイル名変更</h3>
<p>実行ファイル名が、SoundPlayer..binからSoundPlayer.srlに変更になりました。
</p>
<h3 id="note_13-S03">ノート 13-S03:  (全般) デフォルトプラットフォームの変更</h3>
<p>デフォルトでTEG用実行ファイルが作成されていたのを、TS用の実行ファイルが作成されるように変更されました。TEG用実行ファイルを作成するためには、環境変数NITRO_PLATFORMにTEGを設定する必要があります。
</p>
<h3 id="note_13-S04">ノート 13-S04:  (SoundPlayer) シーケンスタイプ選択機能</h3>
<p>今までは、シーケンスが２個、シーケンスアーカイブが２個までしか同時に再生できませんでしたが、それぞれ、シーケンスを再生するか、シーケンスアーカイブを再生するかを選択できるようになりました。例えば、シーケンスを４個同時に再生できたりします。
シーケンスタイプの選択は、Ｌボタンを押しながら、十字キーの上下で行います。
</p>
<h3 id="note_13-S05">ノート 13-S05:  (ライブラリ) 波形再生ライブラリ追加</h3>
<p>関数名NNS_SndWaveOutで始まる波形再生ライブラリを追加しました。マイクのサンプリングデータなど、メモリ上の波形データを直接再生するためのライブラリです。
$NitroSystem/build/demos/snd/waveoutにデモプログラムがあります。
</p>
<h3 id="note_13-S06">ノート 13-S06:  (ライブラリ) エフェクト機能追加</h3>
<p>サウンドキャプチャを使ったエフェクト機能を追加しました。コールバック関数でエフェクト処理を行うことで、全ての音に対し、ローパスフィルタなどの効果をかけることができます。
$NitroSystem/build/demos/snd/effectにデモプログラムがあります。
</p>
<h3 id="note_13-S07">ノート 13-S07:  (ライブラリ) NNS_SndCaptureStartReverb引数変更</h3>
<p>NNS_SndCaptureStartReverb関数の引数formatの型を、SNDCaptureFormatからNNSSndCaptureFormatに変更しました。
詳しくは、リファレンスマニュアルを参照してください。
</p>
<h3 id="note_13-S08">ノート 13-S08:  (ライブラリ) NNSSndArcBankInfo構造体変更</h3>
<p>NNSSndArcBankInfo構造体のwaveArcNoメンバの型がu16からu16[4]に変更になりました。以前の値は、waveArcNo[0]に格納されています。
</p>
<h3 id="note_13-S09">ノート 13-S09:  (ライブラリ) 関数削除</h3>
<p>削除予定だった以下の関数を完全に削除しました。
</p>
<ul><li> NNS_SndArcPlayerInit
</li>
<li> NNS_SndArcPlayerStartSeqWithPlayerNo
</li>
<li> NNS_SndArcPlayerStartSeqArcWithPlayerNo
</li>
<li> NNS_SndPlayerStopSeqByNumber
</li>
<li> NNS_SndPlayerPauseByNumber
</li>
<li> NNS_SndPlayerCountPlayingSeqByNumber
</li>
<li> NNS_SndHandleReleasePlayer
</li>
</ul>
<h3 id="note_13-S10">ノート 13-S10:  (コンバータ/ライブラリ) １バンク複数波形アーカイブ機能追加</h3>
<p>１つのバンクデータに対し、複数（４個まで）の波形アーカイブを関連づけられるようになりました。詳しくは、「バンクデータマニュアル」または、「サウンドアーカイブマニュアル」をご覧ください。
</p>
<h3 id="note_13-S11">ノート 13-S11:  (コンバータ) サウンドアーカイブのシンボルデータ削除オプション</h3>
<p>サウンドアーカイバsndarcでオプション-bを指定すると、出力されるサウンドアーカイブに、シンボルデータが含められなくなります。
</p>
<h3 id="note_13-S12">ノート 13-S12:  (コンバータ) シーケンス最大同時再生数の最大値ミス</h3>
<p>サウンドアーカイブ定義ファイル中の、シーケンス最大同時再生数の値に16を指定するとエラーになっていた問題を修正しました。
</p>
<h2 id="version_20040610">■ 2004年06月10日版での変更点</h2>
<h3 id="note_09-S01">ノート 09-S01:  (全般) 以前の環境からの移行</h3>
<p>$NitroSystem/tools/nitro/SoundPlayer/dataディレクトリ内にあるMakeSound.bat及びReMakeSound.batをsound_data.sarcファイルがあるディレクトリにコピーしてください。そして、ReMakeSound.batをダブルクリックして実行します。
sound_data.oが生成されますので、それを以前と同じように、プログラムにリンクします。後は、前と同じように使えます。
ただし、今回からファイルシステムに対応しています。ファイルシステムを使ったサウンドデータ管理を使うことをおすすめします。
</p>
<h3 id="note_09-S02">ノート 09-S02:  (全般) ファイルシステム対応</h3>
<p>サウンドデータをプログラムとリンクする方式ではなく、ROMに格納してロードする方式を使えるようにしました。
</p>
<h3 id="note_09-S03">ノート 09-S03:  (全般) サウンドデータの組み込み方法変更</h3>
<p>sound_data.oをリンクする方式から、sound_data.sdatをROMに格納する方式に変更になりました。サウンドデザイナーは、sound_data.oの代わりに、sound_data.sdatをプログラマーに渡す必要があります。ただし、sound_data.sdatのフォーマットが変更されていますので、新しくコンバートし直したsound_data.sdatを使用してください。
</p>
<p>プログラマーは、sound_data.sdatをROMに格納する必要があります。詳しくは、「サウンドプログラマーガイド」を参照してください。
</p>
<h3 id="note_09-S04">ノート 09-S04:  (全般) メモリ管理機構の追加</h3>
<p>サウンドデータのメモリ管理が必要になります。詳しくは、「サウンドシステムマニュアル」「サウンドデザイナーガイド」「サウンドプログラマーガイド」などを参照してください。
</p>
<h3 id="note_09-S05">ノート 09-S05:  (ライブラリ) サウンドライブラリの初期化</h3>
<p>サウンドライブラリの初期化方法が従来と違います。詳しくは、「サウンドプログラマーガイド」を参照してください。
</p>
<h3 id="note_09-S06">ノート 09-S06:  (ライブラリ) ARM7コンポーネントの変更</h3>
<p>ARM7コンポーネントが、prototypeからferretを使用するように変更されました。詳しくは、「サウンドプログラマーガイド」を参照してください。
</p>
<h3 id="note_09-S07">ノート 09-S07:  (コンバータ) コンバートコマンドの変更</h3>
<p>今まで、makeコマンドでコンバートを行っていましたが、MakeSound.batを使うように変更になりました。MakeSound.batは、エクスプローラーからのダブルクリックでも実行できます。
また、再コンバートは、make rebuildの代わりに、ReMakeSound.batになりました。
</p>
<h3 id="note_09-S08">ノート 09-S08:  (SoundPlayer) ラベル名表示</h3>
<p>SoundPlayer画面上にシーケンスのラベル名が表示されるようになりました。Ｘボタンを押すことで、以前のようにパラメータを表示させることもできます。
</p>
<h3 id="note_09-S09">ノート 09-S09:  (SoundPlayer) 手動ロードモード追加</h3>
<p>データサイズの確認などが行える手動ロードモードを追加しました。詳しくは「サウンドプログラマーガイド」を参照してください。
</p>
<h3 id="note_09-S10">ノート 09-S10:  (コンバータ/ライブラリ) 複数シーケンス再生</h3>
<p>１つのプレイヤーで複数のシーケンスデータを再生できるようになりました。各プレイヤー毎に、同時に再生できるシーケンスの数を設定します。（デフォルトは１）
</p>
<pre>@PLAYER
3 : 3 ; プレイヤー３は３個まで
4 : 2 ; プレイヤー４は２個まで
</pre>
<h3 id="note_09-S11">ノート 09-S11:  (コンバータ/ライブラリ) プレイヤー数の上限の変更</h3>
<p>プレイヤー数が１６個から３２個に増えました。ただし、システム全体で同時に再生できるシーケンスは従来通り１６個までです。
</p>
<h3 id="note_09-S12">ノート 09-S12:  (コンバータ/ライブラリ) 同時シーケンス再生数の指定</h3>
<p>各プレイヤー毎に設定する、同時に再生できるシーケンスの数は、サウンドアーカイブで指定できます。
指定していない場合は1個となります。
また、NNS_SndPlayerSetPlayableSeqCount関数を使って、プログラム側で設定することもできます。
</p>
<h3 id="note_09-S13">ノート 09-S13:  (ライブラリ) フェードアウト中のプレイヤープライオリティ</h3>
<p>フェードアウト中は、プレイヤープライオリティが最低の0になるように変更されました。
</p>
<h3 id="note_09-S14">ノート 09-S14:  (ライブラリ) リリース・ディケイの微調整</h3>
<p>エンベロープのリリースとディケイを、現状より速く減衰させることができるように微調整しました。リリース値が127の場合、急激な減衰によるノイズが発生する場合がありますので、ご注意ください。
以前の値と新しい値との対応関係は以下の通りです。
</p>
<pre>以前の値   | 新しい値との対応関係
51 〜 127  | それぞれ、49 〜 125に対応します。
47 〜 50   | それぞれ、１または２を引いた値に対応します。
0 〜 46    | 変更ありません。
</pre>
<h3 id="note_09-S15">ノート 09-S15:  (コンバータ) サウンドマップファイル出力</h3>
<p>サウンドアーカイブ作成時に、サウンドマップファイルが出力されるようになりました。サウンドマップファイルは、サウンドアーカイブ中のデータに関する情報を記載したテキストファイルで、サウンドデータサイズなどの確認のために参照します。
サウンドマップファイルは、サウンドアーカイブ定義ファイルの拡張子を*.smapに変えて、同じディレクトリに出力されます。
</p>
<h3 id="note_09-S16">ノート 09-S16:  (コンバータ) インデックス番号指定</h3>
<p>サウンドアーカイブで、シーケンスやバンクの番号は上から順番につけられていましたが、直接指定できるようにしました。また、シーケンスアーカイブのシーケンステーブルでも同様に、インデックス番号指定ができるようになりました。書式は次のようになります。
</p>
<pre>※ ラベルのみ指定（いままでのもの）
SEQ_TITLE_BGM : SMF, &quot;title.mid&quot; , ...

※ ラベルと番号両方指定
SEQ_TITLE_BGM = 2 : SMF, &quot;title.mid&quot; , ...

※ 番号のみ指定
2 : SMF, &quot;title.mid&quot; , ...
</pre>
<p>さらに、バンク定義ファイルで各インストゥルメント毎に番号を振っていましたが、上記の書式でラベルを振ることもできるようになりました。ラベルを振ると、下記で説明するプログラムナンバリストファイルが使用できます。
</p>
<h3 id="note_09-S17">ノート 09-S17:  (コンバータ) プログラムナンバリスト出力</h3>
<p>バンク定義ファイルで、プログラムナンバにラベルを指定すると、プログラムナンバリストファイルが使えるようになります。
これは、プログラムナンバをラベルで置き換えることができるようになるファイルで、例えば次のような内容になっています。
</p>
<pre>#define PRG_PIANO 0
#define PRG_GUITAR 1
#define PRG_HARP 2
</pre>
<p>このファイルは、バンク定義ファイルの拡張子を、*.spdlに変えて、同じディレクトリに出力されます。このファイルを、テキストシーケンスアーカイブでインクルードすることにより、プログラムナンバの代わりにラベルが使えるようになります。
</p>
<pre>#include &quot;../bnk/se.spdl&quot;

test:
    prg PRG_PIANO
    cn4 64, 48
    fin
</pre>
<h3 id="note_09-S18">ノート 09-S18:  (コンバータ/ライブラリ) エクスプレッションの追加</h3>
<p>MIDIコントロールチェンジ11（エクスプレッション）をvolume2コマンドに変換するようにしました。volume2コマンドは、volumeコマンドと全く同じ動作をしますが、独立に効果を発揮します。
</p>
<h3 id="note_09-S19">ノート 09-S19:  (コンバータ) MIDIからのsweep_pitch</h3>
<p>MIDIコントロールチェンジ28でsweep_pitchコマンドを使えていましたが、新たにMIDIコントロールチェンジ29を、値を24倍して、sweep_pitchコマンドに変換するようにしました。これを使うことで、±２オクターブの範囲が指定可能となります。
</p>
<h3 id="note_09-S20">ノート 09-S20:  (コンバータ) prg、mod_delayコマンドの最大値</h3>
<p>シーケンスコマンドprg及びmod_delayの最大値を65535から32767に変更しました。
</p>
<h3 id="note_09-S21">ノート 09-S21:  (コンバータ/ライブラリ) ランダムコマンドの追加</h3>
<p>幾つかのシーケンスコマンドで、乱数指定できるようになりました。
</p>
<pre>pitchbend_r -12, 12
pan_r 64 - 32, 64 + 32
最小値と最大値を指定すると、その範囲でランダムな値がセットされます。
どのコマンドで、ランダムコマンドが使用できるかは、「シーケンスデータマニュアル」をご覧ください。
</pre>
<h3 id="note_09-S22">ノート 09-S22:  (コンバータ/ライブラリ) 変数コマンドの追加</h3>
<p>シーケンス中で変数を扱えるようになりました。変数を使うことで、ループする毎に音程が上がっていくようなシーケンスを、簡単に記述できるようになったりします。
詳しくは、「シーケンスデータマニュアル」をご覧ください。
</p>
<h3 id="note_09-S23">ノート 09-S23:  (コンバータ/ライブラリ) 制御コマンドの追加</h3>
<p>変数を使って、あるシーケンスコマンドを、実行したり実行しなかったり、自由にコントロールできるようになります。
詳しくは、「シーケンスデータマニュアル」をご覧ください。
</p>
<h3 id="note_09-S24">ノート 09-S24:  (ライブラリ) NNS_SndArcPlayerInit関数削除</h3>
<p>NNS_SndArcPlayerInit関数を削除します。対応する関数への置き換えについては、関数リファレンスを参照してください。
現状では残してありますが、次回リリース時に完全に削除します。
</p>
<h3 id="note_09-S25">ノート 09-S25:  (ライブラリ) NNS_SndArcPlayerStartSeqWithPlayerNo関数削除</h3>
<p>NNS_SndArcPlayerStartSeqEx関数及び、NNS_SndArcPlayerStartSeqAcrEx関数を追加しました。これにより、NNS_SndArcPlayerStartSeqWithPlayerNo関数及び、NNS_SndArcPlayerStartSeqArcWithPlayerNo関数が置き換え可能なため、後述の２つの関数を削除します。
現状では残してありますが、次回リリース時に完全に削除します。
</p>
<h3 id="note_09-S26">ノート 09-S26:  (ライブラリ) 関数名変更</h3>
<p>以下の関数は、関数名が変更になりました。旧来の関数名も残してありますが、次回リリース時に完全に削除します。
</p>
<pre>削除する関数名                          新しい関数名
NNS_SndHandleReleasePlayer              NNS_SndHandleReleaseSeq
NNS_SndPlayerStopSeqByNumber            NNS_SndPlayerStopSeqByPlayerNo
NNS_SndPlayerPauseSeqByNumber           NNS_SndPlayerPauseSeqByPlayerNo
NNS_SndPlayerCountPlayingSeqByNumber    NNS_SndPlayerCountPlayingSeqByPlayerNo
</pre>
<h3 id="note_09-S27">ノート 09-S27:  (ライブラリ) シーケンス変数関数追加</h3>
<p>NNS_SndPlayerReadVariable()やNNS_SndPlayerWriteVariable()などで、シーケンスデータがセットした変数を読みとったり、シーケンスデータの変数に書き込んだりすることができます。これによって、シーケンス再生中の状態を把握したり、再生中にシーケンス処理の流れを変更できたりするようになります。
</p>
<h3 id="note_09-S28">ノート 09-S28:  (ライブラリ) ティック数取得関数追加</h3>
<p>NNS_SndPlayerGetTick()関数で、シーケンスが何ティック目を再生しているか取得できるようになりました。
</p>
<h3 id="note_09-S29">ノート 09-S29:  (ライブラリ) その他関数追加</h3>
<p>その他、多くの関数が追加されています。詳しくは、関数リファレンスをご覧ください。
</p>
<h3 id="note_09-S30">ノート 09-S30:  (ライブラリ) 発音プライオリティ設定が反映されないバグ</h3>
<p>サウンドデータにおける、発音プライオリティの設定が正常に反映されていなかった問題がありましたが、修正しました。
</p>
<h3 id="note_09-S31">ノート 09-S31:  (ライブラリ) NNS_SndPlayerSetTrackPan関数のアサートに関するバグ</h3>
<p>panの引数の値が、-64〜63の範囲でアサートが行われていたのを、仕様通り-128〜127の範囲で行うように修正しました。
</p>
<h3 id="note_09-S32">ノート 09-S32:  (ライブラリ) NNS_SndPlayerStopSeq時のリリースに関するバグ</h3>
<p>プログラムからシーケンスを停止させると、リリースを長く設定しているにもかかわらず、急速に減衰していた問題がありましたが、修正しました。
</p>


<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

</body>
</html>
